{{ define "header_js" }}
    <script src="https://cdn.jsdelivr.net/npm/vanilla-hcaptcha"></script>
{{ end }}

{{ define "main" }}
<section id="contact" class="strip bg-cover bg-position-top bg-overlay">
    <div class="heading-bg w-100 pt-4 pb-4">
        {{ with .Title }}<h1 class="text-white text-center text-capitalize">{{ . }}</h1>{{ end }}
    </div>
    <div class="container pt-4">
        <div class="row">
            <div class="col-12 contact-content">
                <p>{{ .Content }}</p>
                {{ if .Params.button }}<a class="button" href="{{ .Params.buttonLink | relURL }}">{{ .Params.button
                    }}</a>{{ end }}
            </div>
        </div>
    </div>
    <div class="container">
        <form id="contact-form" method="{{ site.Params.form_method }}" action="{{ site.Params.form_endpoint }}">
            <h2>{{ i18n "contact_form_heading" }}</h2>
            <div class="input-field position-relative">
                <label for="name">{{ i18n "name" | humanize }}</label>
                <input type="text" name="name" placeholder="{{ i18n " name" | humanize }}" required>
            </div>
            <div class="input-field position-relative">
                <label for="email">{{ i18n "email" | humanize }}</label>
                <input type="email" name="email" placeholder="{{ i18n " email" | humanize }}" required>
            </div>
            <div class="input-field position-relative">
                <label for="message">{{ i18n "form_message" | humanize }}</label>
                <textarea name="message" required></textarea>
            </div>
            <input id="contact_form_submit" class="submit" type="submit" value="{{ i18n "contact_form_submit" }}">


            <h-captcha id="signupCaptcha" site-key="{{ site.Params.hcaptcha_site_key }}" size="normal" tabindex="0"
                style="text-align: center; display: block; margin-top: 2rem;"></h-captcha>

            <script>
                const signupCaptcha = document.getElementById('signupCaptcha');

                signupCaptcha.addEventListener('verified', (e) => {
                    console.log('verified event', {token: e.token});
                });
                signupCaptcha.addEventListener('error', (e) => {
                    console.log('error event', {error: e.error});
                });
            </script>

        </form>
    </div>
</section>

<div class="contact-success">
    <div class="success-toast">
        <p>{{ .Params.success_message }}</p>
    </div>

</div>
{{ end }}
